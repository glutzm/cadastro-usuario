CREATE TABLE public.app_roles
(
    id               int8        NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    create_date_time timestamp   NULL,
    "name"           varchar(40) NOT NULL,
    update_date_time timestamp   NULL,
    CONSTRAINT app_roles_pkey PRIMARY KEY (id),
    CONSTRAINT uk_fvrw9klein793jl7h2qug4a5t UNIQUE (name)
);


CREATE TABLE public.address
(
    id               int8         NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    cep              varchar(10)  NOT NULL,
    city             varchar(255) NOT NULL,
    complement       varchar(255) NULL,
    country          varchar(60)  NOT NULL,
    create_date_time timestamp    NULL,
    "number"         varchar(20)  NOT NULL,
    state            varchar(2)   NOT NULL,
    street           varchar(255) NOT NULL,
    update_date_time timestamp    NULL,
    CONSTRAINT address_pkey PRIMARY KEY (id)
);


CREATE TABLE public.app_users
(
    id               int8         NOT NULL GENERATED BY DEFAULT AS IDENTITY,
    cpf              varchar(14)  NOT NULL,
    email            varchar(80)  NOT NULL,
    "name"           varchar(80)  NOT NULL,
    pis              varchar(14)  NOT NULL,
    active           bool         NOT NULL,
    create_date_time timestamp    NULL,
    "password"       varchar(255) NOT NULL,
    update_date_time timestamp    NULL,
    address_id_fk    int8         NOT NULL,
    role_id_fk       int8         NOT NULL,
    CONSTRAINT app_users_pkey PRIMARY KEY (id),
    CONSTRAINT uk_4vj92ux8a2eehds1mdvmks473 UNIQUE (email),
    CONSTRAINT uk_kdsjxyqji1gxudrsngwwc6rtq UNIQUE (cpf),
    CONSTRAINT uk_snyqmyd1bi1g3w9lla1kx34o5 UNIQUE (pis),
    CONSTRAINT fklog3usgp5mxxows6nwor9a96r FOREIGN KEY (address_id_fk) REFERENCES public.address (id),
    CONSTRAINT fktpbkjvvamlq2ky9dtcrm83nqf FOREIGN KEY (role_id_fk) REFERENCES public.app_roles (id)
);
